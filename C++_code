//Tic Tac Toe
#include<iostream.h>
#include<conio.h>
#include<string.h>
#include<stdlib.h>

void main()
{
 char a=' ',b=' ',c=' ',d=' ',e=' ', f=' ', g=' ', h=' ', i=' ';
 int ch1,ch2,flag=0;
 int n=1;
 char n1[20], n2[20];

 cout<<"\n\n\n\t\t\t\tTIC TAC TOE";
 cout<<"\n\n\t\t\tPlayer 1 is X and Player 2 is O";
 cout<<"\n\n\t\t\t\tPlayer 1 : ";
 cin.getline(n1,20);
 flag=0;
 cout<<"\n\t\t\t\tPlayer 2 : ";
 cin.getline(n2,20);
 flag=1;
 do
 {
  clrscr();

  cout<<"\n\n        |       |       \t\t        |       |       ";
  cout<<"\n     1  |   2   |    3    \t\t    "<<a<<"   |   "<<b<<"   |    "<<c<<"    ";
  cout<<"\n\________|_______|_______\t\t________|_______|_______";
  cout<<"\n        |       |        \t\t        |       |       ";
  cout<<"\n     4  |   5   |    6    \t\t    "<<d<<"   |   "<<e<<"   |    "<<f<<"    ";
  cout<<"\n________|_______|_______\t\t________|_______|_______";
  cout<<"\n        |       |       \t\t        |       |       ";
  cout<<"\n     7  |   8   |    9   \t\t    "<<g<<"   |   "<<h<<"   |    "<<i<<"    ";

  if(a=='X'&& d=='X' && g=='X')
  {
   cout<<"\n\n\t\tCONGRATULATIONS "<<n1<<" WINS!! ";
   break;
  }
  else if(a=='X'&& b=='X' && c=='X')
  {
   cout<<"\n\n\t\tCONGRATULATIONS "<<n1<<" WINS!! ";
   break;
  }
  else if(d=='X'&& e=='X' && f=='X')
  {
   cout<<"\n\n\t\tCONGRATULATIONS "<<n1<<" WINS!! ";
   break;
  }
  else if(g=='X'&& h=='X' && i=='X')
  {
   cout<<"\n\n\t\tCONGRATULATIONS "<<n1<<" WINS!! ";
   break;
  }
  else if(b=='X'&& e=='X' && h=='X')
  {
   cout<<"\n\n\t\tCONGRATULATIONS "<<n1<<" WINS!! ";
   break;
  }
  else if(c=='X'&& f=='X' && i=='X')
  {
   cout<<"\n\n\t\tCONGRATULATIONS "<<n1<<" WINS!! ";
   break;
  }
  else if(a=='X'&& e=='X' && i=='X')
  {
   cout<<"\n\n\t\tCONGRATULATIONS "<<n1<<" WINS!! ";
   break;
  }
  else if(c=='X'&& e=='X' && g=='X')
  {
   cout<<"\n\n\t\tCONGRATULATIONS "<<n1<<" WINS!! ";
   break;
  }

  else if(a=='O'&& d=='O' && g=='O')
  {
   cout<<"\n\n\t\tCONGRATULATIONS "<<n2<<" WINS!! ";
   break;
  }
  else if(a=='O'&& b=='O' && c=='O')
  {
   cout<<"\n\n\t\tCONGRATULATIONS "<<n2<<" WINS!! ";
   break;
  }
  else if(d=='O'&& e=='O' && f=='O')
  {
   cout<<"\n\n\t\tCONGRATULATIONS "<<n2<<" WINS!! ";
   break;
  }
  else if(g=='O'&& h=='O' && i=='O')
  {
   cout<<"\n\n\t\tCONGRATULATIONS "<<n2<<" WINS!! ";
   break;
  }
  else if(b=='O'&& e=='O' && h=='O')
  {
   cout<<"\n\n\t\tCONGRATULATIONS "<<n2<<" WINS!! ";
   break;
  }
  else if(c=='O'&& f=='O' && i=='O')
  {
   cout<<"\n\n\t\tCONGRATULATIONS "<<n2<<" WINS!! ";
   break;
  }
  else if(a=='O'&& e=='O' && i=='O')
  {
   cout<<"\n\n\t\tCONGRATULATIONS "<<n2<<" WINS!! ";
   break;
  }
  else if(c=='O'&& e=='O' && g=='O')
  {
   cout<<"\n\n\t\tCONGRATULATIONS "<<n2<<" WINS!! ";
   break;
  }

 flag=0;

 if( flag==0)
 {
  Try1:
  cout<<"\n\n\n"<<n1<<" : ";
  cin>>ch1;
  switch(ch1)
  {
   case 1:
   {
   if (ch2!= 1 && a!='X')
   a='X';
   else
   {
    cout<<"Invalid option. Try again";
    goto Try1;
   }
    break;
   }

   case 2:
   {
   if (ch2!= 2 && b!='X')
   b='X';
   else
   {
    cout<<"Invalid option. Try again";
    goto Try1;
   }
   break;
   }

   case 3:
   {
   if (ch2!= 3 && c!='X')
   c='X';
   else
   {
    cout<<"Invalid option. Try again";
    goto Try1;
   }
   break;
   }

   case 4:
   {
   if (ch2!= 4 && d!='X')
   d='X';
   else
   {
    cout<<"Invalid option. Try again";
    goto Try1;
   }
   break;
   }

   case 5:
   {
   if (ch2!= 5 && e!='X')
   e='X';
   else
   {
    cout<<"Invalid option. Try again";
    goto Try1;
   }
   break;
   }

   case 6:
   {
   if (ch2!= 6 && f!='X')
   f='X';
   else
   {
    cout<<"Invalid option. Try again";
    goto Try1;
   }
   break;
   }

   case 7:
   {
   if (ch2!= 7 && g!='X')
   g='X';
   else
   {
    cout<<"Invalid option. Try again";
    goto Try1;
   }
   break;
   }

   case 8:
   {
   if (ch2!= 8 && h!='X')
   h='X';
   else
   {
    cout<<"Invalid option. Try again";
    goto Try1;
   }
   break;
   }

   case 9:
   {
   if (ch2!= 9 && i!='X')
   i='X';
   else
   {
    cout<<"Invalid option. Try again";
    goto Try1;
   }
   break;
   }
  }

  flag=1;
  if(flag==1)
  {
   Try2:
   cout<<"\n\n"<<n2<<" : ";
   cin>>ch2;
   switch(ch2)
{
  case 1:
{
    if (ch1!= 1 && a!='O')
a='O';
else
{
 cout<<"\n\nInvalid option. Try again";
 goto Try2;
    }
    break;
    }

case 2:
{
    if (ch1!= 2 && b!='O')
b='O';
else
{
 cout<<"\n\nInvalid option. Try again";
 goto Try2;
    }
break;
    }

case 3:
{
    if (ch1!= 3 && c!='O')
c='O';
else
{
 cout<<"\n\nInvalid option. Try again";
 goto Try2;
}
break;
    }

    case 4:
{
    if (ch1!= 4 && d!='O')
d='O';
else
{
 cout<<"\n\nInvalid option. Try again";
 goto Try2;
}
break;
    }

    case 5:
{
    if (ch1!= 5 && e!='O')
e='O';
else
{
 cout<<"\n\nInvalid option. Try again";
 goto Try2;
}
break;
    }

    case 6:
{
    if (ch1!= 6 && f!='O')
f='O';
else
{
 cout<<"\n\nInvalid option. Try again";
   goto Try2;
}
break;
    }
    case 7:
{
    if (ch1!= 7 && g!='O')
g='O';
else
{
   cout<<"\n\nInvalid option. Try again";
 goto Try2;
}
break;
    }

    case 8:
{
    if (ch1!= 8 && h!='O')
h='O';
else
{
 cout<<"\n\nInvalid option. Try again";
 goto Try2;
}
break;
    }

case 9:
{
    if (ch1!= 9 && i!='O')
i='O';
else
{
 cout<<"\n\nInvalid option. Try again";
 goto Try2;
}
break;
    }
   }
  }
 }
 n++;
}
while(n!=8);

getch();
}
